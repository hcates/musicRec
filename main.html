<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>tunes4you</title>
    <link rel="stylesheet" href="base.css">
</head>
<body>
<div>
    Enter up to three song titles:
</div>
<br>
<form onSubmit="onSubmit()">
    Artist 1:<br>
    <input type="text" name="artistOne"><br>
    Artist 2:<br>
    <input type="text" name="artistTwo"><br>
    Artist 3: <br>
    <input type="text" name="artistThree"><br>
    <br>
    <input type="submit">
</form>
<br>
<script>
    function onSubmit() {
        let a1 = document.getElementsByName("artistOne")[0].value;
        let a2 = document.getElementsByName("artistTwo")[0].value;
        let a3 = document.getElementsByName("artistThree")[0].value;

        $.ajax({
            url: "https://api.spotify.com/v1/search?q=" + a1 + "&type=artist",
            method: "GET",
            headers: {
                "Authorization": "TODO"
            }
        }).then(res => {
            res.json().then(data => {
                a1 = data[0].id;
            });
        });

        $.ajax({
            url: "https://api.spotify.com/v1/search?q=" + a2 + "&type=artist",
            method: "GET",
            headers: {
                "Authorization": "TODO"
            }
        }).then(res => {
            res.json().then(data => {
                a2 = data[0].id;
            });
        });

        $.ajax({
            url: "https://api.spotify.com/v1/search?q=" + a3 + "&type=artist",
            method: "GET",
            headers: {
                "Authorization": "TODO"
            }
        }).then(res => {
            res.json().then(data => {
                a3 = data[0].id;
            });
        });

        $.ajax({
            url: "https://api.spotify.com/v1/recommendations?seed_artists=" + a1 + "," + a2 + "," + a3,
            method: "GET",
            headers: {
                "Authorization": "TODO"
            }
        }).then(res => {
            res.json().then(data => {
                let list = document.getElementById("results");
                for (i = 0; i < 20; i++) {
                    var entry = document.createElement('li');
                    entry.innerText(data[0][i].name);
                    list.appendChild(entry);
                }
            });
        });
    }
</script>
<ol id="results">
</ol>
</body>
</html>